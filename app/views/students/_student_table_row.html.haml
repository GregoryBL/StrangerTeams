%tr.student_row{id: "student_row_#{student.id}"}
  %td
    %strong= link_to student.full_name, student_path(student)
  %td= student.grade_level
  %td= student.gender
  %td
    - if student.mentor_id == nil
      Unassigned
    - elsif is_admin?
      = form_for :teachers, url: student_path(student), method: :patch do |f|
        = collection_select(:student, :mentor_id, Teacher.all, :id, :full_name, {selected: student.mentor_id}, {id: student.id, class: "teacher-drop-down"})
    - else
      = student.mentor.full_name
  %td= student.gpa
  %td= student.detention_count
  - if not_assigned?(student)
    %td
      - p student
      = button_to 'Add', student_teacher_path(student, current_teacher), class: "btn btn-secondary add-btn", form_class: "add-form",  method: :patch
  - else
    %td
      = button_to "Remove", "#", class: "btn btn-secondary remove-btn",  method: :post
